<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CA TEL | Web Lab Common UI</title>
    <script src="/web-component-tester/browser.js"></script>
    <script src="/bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="import" href="/bower_components/imd/imd.html">
    <link rel="import" href="/components/ca-object-list.html">
  </head>
  <body>
    <test-fixture id="object-list">
      <template>
        <ca-object-list></ca-object-list>
      </template>
    </test-fixture>
    <script>
        suite('<ca-object-list>', () => {
            let caObjectList;

            // TODO: CREATE TESTS, there were none associated with the original component
            setup(done => {
                caObjectList = fixture('object-list');
                done();
            });

            test('should set properties on card', done => {
                caObjectList.schema = {
                    "type": "object",
                    "id": "http://stable-odt-api.eu-gb.mybluemix.net/api/learner/$schema",
                    "$schema": "http://json-schema.org/draft-03/schema#",
                    "properties": {
                        "description": {
                            "type": "string",
                            "id": "order:010_description"
                        },
                        "content": {
                            "type": "string",
                            "id": "order:020_content",
                            "required": true
                        }
                    }
                };
                caObjectList.value = [
                    {
                        description: "This is the thing",
                        content: "The thing"
                    }
                ];
                const caSummary = caObjectList.querySelector('ca-summary');
                expect(caSummary.type).to.equal('card');
                expect(caSummary.itemsPerCol).to.equal(100);
                done();
            });
        });
        a11ySuite('object-list');
    </script>
  </body>
</html>
